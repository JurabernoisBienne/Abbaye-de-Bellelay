/* CSS principal — couleurs pastels, mobile-first, responsive @768px
   Version adaptée : header séparé + variable dynamique --header-action-width utilisée
*/

:root{
  --brand-green: #a8d5ba;
  --brand-blue: #c7e6f0;
  --brand-yellow: #fceaa4;
  --text: #1f2933;
  --muted: #55606a;
  --max-width: 800px;
  --gap: 1rem;
  --radius: 8px;
  --focus-outline: 3px solid rgba(168,213,186,0.6);
  --transition: 200ms ease;
  --serif: "Georgia", "Times New Roman", serif;
  --sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  --bg: #ffffff;

  /* valeur par défaut (sera ajustée dynamiquement par JS si present) */
  --header-action-width: 260px;
}

/* Reset & base */
* { box-sizing: border-box; }
html,body { height:100%; }
body{
  margin:0;
  font-family:var(--sans);
  color:var(--text);
  background:var(--bg);
  line-height:1.45;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding-bottom:4rem; /* espace pour footer fixe */
}

/* Containers */
.container{
  width:100%;
  max-width:var(--max-width);
  margin:0 auto;
  padding:1rem;
}

/* ----------------------
   Header (nouvelle structure)
   ---------------------- */
.site-header{
  position: sticky;
  top: 0;
  z-index: 10000;
  background: linear-gradient(90deg, var(--brand-blue), var(--brand-green));
  color:var(--text);
  padding:0.5rem 1rem;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
  box-shadow: 0 2px 8px rgba(16,24,32,0.08);
  border-bottom: 1px solid rgba(0,0,0,0.05);
  position: relative;
}

/* header-inner : logo + nav (centré). On réserve de la place à droite via padding-right */
.header-inner{
  display: grid;
  grid-template-columns: auto 1fr;
  align-items: center;
  gap:1rem;
  max-width:var(--max-width);
  margin:0 auto;
  padding:0;
  padding-right: var(--header-action-width); /* espace pour header-actions */
  box-sizing: border-box;
}

/* Logo */
.logo img{ width:48px; height:48px; }
.site-header .logo { justify-self: start; }

/* header-actions : séparé du flux (desktop), positionné à droite */
.header-actions{
  position: absolute;
  right: 1rem;
  top: 50%;
  transform: translateY(-50%);
  display:flex;
  align-items:center;
  gap:0.6rem;
  width: var(--header-action-width);
  justify-content: flex-end;
  z-index: 10002;
}

/* Menu toggle (mobile) */
#menu-toggle{
  background:none;
  border:none;
  font-size:1.25rem;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:0.25rem 0.5rem;
  cursor:pointer;
}

/* Navigation (au centre) */
.main-nav{
  display:none; /* montré en desktop via media query */
  justify-self: start;
  box-sizing: border-box;
  z-index: 10003; /* s'assurer que le nav est au-dessus si overlap */
}
.main-nav .nav-list{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  gap:0.6rem;
  justify-content:center;
  align-items:center;
  flex-wrap:wrap;
}
.main-nav a{
  color:var(--text);
  text-decoration:none;
  padding:0.35rem 0.5rem;
  border-radius:6px;
  display:block;
}
.main-nav a:focus, .main-nav a:hover{ outline:var(--focus-outline); }

/* Lang switcher inside header-actions */
.lang-switcher { display:flex; align-items:center; gap:0.4rem; white-space:nowrap; }
.lang-switcher-list ul{ list-style:none; margin:0; padding:0; display:flex; gap:0.5rem; align-items:center; }
.lang-switcher-list a {
  text-decoration:none;
  padding:0.25rem 0.45rem;
  border-radius:4px;
  background:rgba(255,255,255,0.9);
  color:var(--text);
  font-weight:600;
  display:inline-block;
}
.lang-switcher-list a[aria-current="true"]{ outline:var(--focus-outline); }

/* ----------------------
   Banner (full-bleed hero)
   ---------------------- */
.hero{
  position:relative;
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
  max-width:100vw;
  overflow:hidden;
  left:0;
  display:block;
  box-sizing:border-box;
}
.hero img{
  display:block;
  width:100%;
  height:auto;
  min-width:100%;
  object-fit:cover;
}
.hero .punchline{
  position:relative;
  margin-top:0.75rem;
  padding:0.5rem 1rem;
  font-family:var(--serif);
  font-size:1.1rem;
  color:var(--text);
}

/* ----------------------
   Sections
   ---------------------- */
.section{
  margin:1rem 0;
  padding:0.75rem;
  background:rgba(255,255,255,0.9);
  border-radius:var(--radius);
  box-shadow:0 1px 3px rgba(0,0,0,0.05);
  text-align: center;
}

/* Cards grid for programs & sur-place (mobile: stacked) */
.grid-2{
  display:grid;
  grid-template-columns:1fr;
  gap:0.75rem;
  margin-left:auto;
  margin-right:auto;
}
.grid-3x2{
  display:grid;
  grid-template-columns:1fr;
  gap:0.75rem;
  margin-left:auto;
  margin-right:auto;
}

/* Card */
.card{
  background:#fff;
  border-radius:6px;
  overflow:hidden;
  display:flex;
  flex-direction:column;
}
.card img{width:100%;height:160px;object-fit:cover}
.card .card-body{padding:0.6rem}
.card h3{margin:0 0 0.4rem 0;font-family:var(--serif);font-size:1rem}

/* Carousel (mobile) */
.carousel{position:relative;overflow:hidden}
.carousel-track{display:flex;transition:transform var(--transition)}
.carousel-item{min-width:100%;flex-shrink:0;padding:0.5rem}
.carousel-controls{position:absolute;top:50%;transform:translateY(-50%);width:100%;display:flex;justify-content:space-between;padding:0 0.5rem}
.carousel-controls button{background:rgba(255,255,255,0.8);border:none;padding:0.4rem;border-radius:6px}

/* Disciplines layout */
.disciplines{
  display:flex;
  flex-direction:column;
  gap:1rem;
}
.disciplines .sidebar{display:flex;gap:0.25rem;overflow:auto}
.disciplines .sidebar button{flex:0 0 auto;border:none;background:var(--brand-blue);padding:0.5rem;border-radius:6px;cursor:pointer}
.disciplines .sidebar button[aria-current="true"]{outline:var(--focus-outline)}
.disciplines .content{background:#fff;padding:0.75rem;border-radius:6px}

/* Timeline */
.timeline{
  position:relative;
  padding:1rem 0;
  max-width:var(--max-width);
  margin:0 auto;
}
.timeline-line{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  width:4px;
  background:linear-gradient(var(--brand-green),var(--brand-blue));
  top:0;bottom:0;
}
.timeline-item{
  position:relative;
  max-width:var(--max-width);
  margin:1rem auto;
  padding:0.5rem 1rem;
  width:100%;
}
.timeline-item .point{
  position:absolute;left:50%;transform:translateX(-50%);width:14px;height:14px;border-radius:50%;background:var(--brand-yellow);border:3px solid white;
}
.timeline-item .content{
  width:90%;
  margin:0 auto;
  background:#fff;padding:0.75rem;border-radius:6px;
}

/* Modal */
.modal-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center;z-index:2000;
}
.modal{background:#fff;padding:1rem;border-radius:8px;max-width:900px;width:calc(100% - 2rem);max-height:90vh;overflow:auto;position:relative}
.modal .close{position:absolute;right:0.5rem;top:0.25rem;border:none;background:none;font-size:1.2rem}

/* Forms */
form .form-row{display:flex;flex-direction:column;gap:0.4rem;margin-bottom:0.5rem}
label{font-weight:600;font-size:0.9rem}
input,textarea,select{padding:0.5rem;border:1px solid #dfe7ec;border-radius:6px;font-size:1rem}
button.btn{background:var(--brand-green);border:none;color:#fff;padding:0.6rem 0.9rem;border-radius:6px;cursor:pointer}
button.btn-outline{background:transparent;border:1px solid var(--brand-green);color:var(--brand-green)}

/* Footer */
.site-footer{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid #e6eef2;padding:0.5rem}
.footer-inner{max-width:var(--max-width);margin:0 auto;display:flex;justify-content:space-between;align-items:center;gap:1rem}

/* ----------------------
   Responsive rules
   ---------------------- */
@media (min-width:768px){
  /* Desktop header: show nav horizontally centered */
  .main-nav{ display:block; }
  .main-nav .nav-list{ flex-direction:row; gap:0.6rem; }

  .grid-2{ grid-template-columns:repeat(2,1fr); }
  .grid-3x2{ grid-template-columns:repeat(3,1fr); grid-auto-rows:1fr; gap:0.8rem; }
  .disciplines{ flex-direction:row; }
  .disciplines .sidebar{ flex-direction:column; width:220px; }
  .disciplines .content{ flex:1; }
  .hero .punchline{ font-size:1.2rem; }
  .timeline-item{ max-width:var(--max-width); }

  /* Slight spacing between nav and header-actions */
  .site-header .header-actions{ margin-left: 0.6rem; }
}

/* Mobile adjustments */
@media (max-width:767px){
  /* mobile ordering: header-inner then header-actions; header-actions becomes relative */
  .header-inner { padding-right: 0; }
  .header-actions { position: relative; right: auto; top: auto; transform: none; width: auto; justify-content: flex-end; }
  #menu-toggle { order: 1; }
  .lang-switcher { order: 2; }
  .main-nav {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: linear-gradient(90deg, var(--brand-blue), var(--brand-green));
    box-shadow: 0 6px 18px rgba(16,24,32,0.08);
    padding: 0.75rem 1rem;
    display: none; /* toggled by JS */
    z-index: 9998;
  }
  .main-nav .nav-list { flex-direction:column; gap:0.5rem; }
  .main-nav a { background: rgba(255,255,255,0.85); color: var(--text); padding: 0.5rem; border-radius: 6px; display:block; }
  .main-nav { order: 3; width:100%; }
}

/* Utility for opened mobile nav */
.main-nav.is-open { display: block !important; }

/* Accessibility focus */
a:focus,button:focus,input:focus,textarea:focus{ outline:var(--focus-outline); }
